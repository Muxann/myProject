!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=2)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.random=function(e,t){return Math.floor(Math.random()*(t-e)+e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class o{static addOne(e,t){localStorage.setItem(e,JSON.stringify(t))}static remove(...e){e.forEach(e=>{localStorage.removeItem(e)})}static getOne(e){var t=localStorage.getItem(e);return t?JSON.parse(t):null}}o.isExist=o.getOne,t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(8),r=n(1),i=n(13),s=n(0),a=n(4),u=n(10),c=n(15),l=n(6),d=n(17),m=n(18),f=n(20),h=n(21),g=n(9),p=n(3),y=n(8),v=n(5),b=n(11),C=n(22),L=n(7),S=p.current;t.currentPers=S;const q=new o.default(p.f);t.newMove=q;const P=new i.default;t.accManager=P;const k=new a.Counter("DungeonPassed",1,0);t.dungeonPassed=k;const w=new class{constructor(){this.isNeedChangeCabinet=r.default.getOne("needChangeCabinet"),this.shouldWeChangePers=!1,this.timeOuts=[],this.craftAgain=document.querySelector('a[href*="ppAction=craftAgain"]'),this.getQuestReward=document.querySelector('a[href*="ppAction=completeQuest"]'),this.getMove=()=>function(){if(w.craftAgain&&p.f.setTakeAndRepeat)return void w.doAction(q.createLinkBot(w.craftAgain,100));const e=new i.ExitManager;if(e.isThisPersFullPassed())return void(w.shouldWeChangePers=!0);const t=location.href,n=new c.ShadowGuard;if(h.default())return console.log("An Error"),void new v.Wait(s.random(100,200),()=>location.href="http://m.vten.ru");const o=document.querySelector("#login");if(o&&p.f.autologin){if(document.querySelector('img[src*="/captcha/image"]')){var a=g.accData[S.name].signIn;return location.href=a,null}if(!w.isNeedChangeCabinet){const e=document.querySelector("input[type=submit]");if(document.querySelector("input[type=password]")&&o&&e&&"Войти"===e.getAttribute("value"))return P.autoLogin(p.cabinetCounter.getCount()),null}}else{if(P.entergame)return void P.enter();if(P.leavecabinet)return void P.logIn()}if(document.querySelector('[src*="img1.vten.ru/images/icons/bazaar.png"]')){const t=document.querySelector('a[href*="/dailygifts"]'),n=document.querySelector('a[href*="/campaign"]'),o=document.querySelector('a[href*="/dungeons"]'),r=document.querySelector('a[href*="/user/rack"]');if(t&&p.f.setbigLibrary)return q.createLinkBot(t,q.getPrior("library")),q.selectMove();if(n&&p.f.setQuest&&!u.isQuestComplete())return q.createLinkBot(n,q.getPrior("taverna")),q.selectMove();if(o&&p.f.setDungeon&&!e.dungeonsComplete.isDungeons())return q.createLinkBot(o,q.getPrior("dungeon")),q.selectMove();if(r&&!e.isRackComplete)return q.createLinkBot(r,q.getPrior("bag")),q.selectMove()}const A=new C.default("dHellRuins"),_=l.dungeonList[0];if(_&&!_.classList.contains("minor")||A.isPreFigth()){if(A.shouldWait())return A.shouldExit()?void(location.href="https://m.vten.ru/?ppAction=LPL_leaveParty"):void A.waitTillFigth();const e=A.isPartyReady();if(e)return void(location.href=e.href);const t=A.startSearch();if(t)return void(location.href=t.href)}if(document.querySelector("[href*='&roll=']")&&location.href.match("standby"))return void(location.href="https://m.vten.ru/?ppAction=LPL_leaveParty");const M=y.d.getMonth(),O=y.d.getDate();if(/dungeons/.test(t)){const e={veryHighLlvl:document.querySelector('a[href$="m.vten.ru/dungeons?mode=5"]'),middlelvl:document.querySelector('a[href$="m.vten.ru/dungeons?mode=3"]'),lowLvl:document.querySelector('a[href$="m.vten.ru/dungeons?mode=2"]'),currentlyAt(){return this.middlelvl&&this.lowLvl?"50-60":this.veryHighLlvl&&this.middlelvl?"<30":"30-39"}};if(p.f.setDungeon)for(let t of l.dungeonList.filter((e,t)=>t<S.dungeonRange))if(t&&!t.classList.contains("minor")&&e.veryHighLlvl)return q.createLinkBot(t,q.getPrior("dungeonList").enterDungeon),q.selectMove();switch(e.currentlyAt()){case"50-60":return w.doAction(q.createLinkBot(e.middlelvl,q.getPrior("dungeonList").lowThen30Lvl)),null;case"30-39":return w.doAction(q.createLinkBot(e.lowLvl,q.getPrior("dungeonList").lowThen30Lvl)),null}}if(/dungeon\//.test(t)){const e=document.querySelector('a[href*="ppAction=start"], a[href*="ppAction=startCombat"]'),o=document.querySelector('[href*="createPartyOrEnterLink"]');if(/dungeon\/(?=lobby|description|landing)/i.test(t)){if(/dungeon\/description/i.test(t)){const e=document.querySelector('.body [src*="img0.vten.ru/images/icons/item_impossible.png"]'),n=document.querySelector('.body [src*="img1.vten.ru/images/icons/item_hard.png"]');let o,r;if(e&&!/impossible/.test(t)&&(o=e.parentElement.parentElement),c.setDifficalt(o,l.brutalList))return q.createLinkBot(o,q.getPrior("dungeonList").setBruralDiff),q.selectMove();if(n&&!/hard/.test(t)&&(r=n.parentElement.parentElement),c.setDifficalt(r,l.heroicList))return q.createLinkBot(r,q.getPrior("dungeonList").setHeroic),q.selectMove()}o&&q.createLinkBot(o,q.getPrior("dungeonList").enter)}if(/dungeon\/(?=standby|lobby|step)/i.test(t)&&e)return n.wavesComplete?(n.onWavesComplete(),null):(q.createLinkBot(e,q.getPrior("dungeonList").startBattle),k.increment(),q.selectMove())}if(/standby\//.test(t)){const e=document.querySelector("[href*='&roll=1']"),t=document.querySelector("[href*='&roll=3']");if((new c.RestMonastyr).restoreHelth())return;e&&p.f.setGetThingsInDungeon?q.createLinkBot(e,q.getPrior("dungeonList").need):t&&q.createLinkBot(t,q.getPrior("dungeonList").noNeed)}if(/tavern/.test(t)){const e=document.querySelector('a[href*="/tavern?mode=1"]'),n=document.querySelector('a[href*="/tavern?mode=2"]');let o=document.querySelector('.body a[href*="mode=2&pageIndex"]');if(/pageIndex\=/.test(t)&&(o=document.querySelector(`.body a[href*="mode=2&pageIndex=${parseInt(/\d$/.exec(location.href)[0])+1}"]`)),e&&/все задания/i.test(e.textContent))return q.createLinkBot(e,q.getPrior("tavernaList").allTasks),q.selectMove();if(n&&/периодические/i.test(n.textContent))return q.createLinkBot(n,q.getPrior("tavernaList").periodic),q.selectMove();if(/tavern\?mode=2/.test(t)&&p.f.setQuest)for(let e of d.questList)if(e)return q.createLinkBot(e,50),q.selectMove();if(o)return q.createLinkBot(o,q.getPrior("next_page")),q.selectMove()}if(/quest|doconfirm/.test(t)){const e=document.querySelector('a[href*="ppAction=getQuest"]'),n=document.querySelector('a[class*="headerButton"]'),o=/EpicTitanDayly/.test(t);if(e)return q.createLinkBot(e,q.getPrior("tavernaList").payRenta),q.selectMove();if(n||n&&/\/tavern|quest/.test(n.href)&&!o)return void w.doAction(q.createLinkBot(n,q.getPrior("generalList").continue))}const x=s.random(25,28);w.getQuestReward&&p.f.setGetRew&&q.createLinkBot(w.getQuestReward,q.getPrior("generalList").getReward);if(/user\/rack/.test(t)){const e=document.querySelector('[href*="confirmLink"]'),t=document.querySelectorAll('[href*="crackLink"]'),n=document.querySelectorAll('[href*="openLink"]');let o=m.default(t,n);if(e)return q.createLinkBot(e,q.getPrior("generalList").submit),q.selectMove();o?q.createLinkBot(o,q.getPrior("rackAction")):r.default.addOne("bagThingsComplete",!0)}if(M>=8&&O>=x)throw new Error;if(document.querySelector('[src$="icons/sword1.png"]')){const e=document.querySelector('[href*="ppAction=damageRandom"]'),o=document.querySelector('[href*="ppAction=damageLastTarget"]'),i=document.querySelector(".i12img");if(!/cabinet/.test(t)&&/heart_0/.test(i.src)){const e=document.querySelectorAll("[href*='&potion']"),t=L.amulets.listokLotosa||L.amulets.invis;if(t)return q.createLinkBot(t,q.getPrior("generalList").drinkBottle),q.selectMove();for(let t of e)t&&!t.classList.contains("minor")&&q.createLinkBot(t,q.getPrior("generalList").drinkBottle)}if(/shadowguard|fatetemple|crystaltomb|DemonicPortal/i.test(t)){if(/dungeon\/combat\/ShadowGuard/.test(t)){let e=document.querySelector(".pb.small span"),t="Сгусток теней начинает смертельную атаку",i="Познакомьтесь с Тенью моей личной Смерти,";if(e&&new RegExp(`${t}|${i}`,"i").test(e.textContent)){if(!document.querySelector("#enemyList a"))return void new v.Wait(s.random(1e3,1400))}if(o&&/злость джека/i.test(o.innerText))return n.killBoss();if(o&&/тень смерти джека/i.test(o.innerText))return r.default.addOne("shadowGuardWavesComplete",!0),n.killBoss()}if(t.match("dungeon/combat/FateTemple")){const e=document.querySelector(".pb.small span"),t="гладиатор, готовясь вступить в бой.",n="изредко внося в книгу поправки! Кто знает, что он там пишет!";if(e&&new RegExp(`${t}|${n}`).test(e.textContent)){if(!document.querySelector("#enemyList a"))return void new v.Wait(s.random(2e3,3e3))}if(o&&/гладиатор/i.test(o.textContent)){const t="Старик потерял интерес к сражению и вернулся к чтению книги.";if(e&&e.textContent.trim()!==t)return void new v.Wait(s.random(2e3,3e3))}}if(/CrystalTomb/i.test(t)){let e=document.querySelector(".pb.small span"),t="Призраки готовятся к нападению. Они не издают ни звука - зловещая тишина режет уши.",n="Быстрее вперед! Не стоим на месте!";if(e&&new RegExp(`${t}|${n}`,"i").test(e.textContent)){if(!document.querySelector("#enemyList a"))return void new v.Wait(s.random(2e3,3e3))}if(o&&/Заблудшая Душа/i.test(o.textContent))return void new v.Wait(s.random(62e3,66e3),(function(){let e=L.amulets.grom;e&&(q.createLinkBot(e,q.getPrior("customPrior").porogiShadowGuard.grom),w.doAction(q.selectMove()))}))}if(/DemonicPortal/i.test(t)){const e=document.querySelector("#enemyList a"),t=o&&/Эфирное Искажение|Разрыв Реальности/i.test(o.textContent);if(!e||t){f.amuletList[6]=null;const e=document.querySelector('[href*="itemId=item:798791966"]');e&&!e.classList.contains("minor")&&q.createLinkBot(e,q.getPrior("usePribor"))}}}e&&q.createLinkBot(e,q.getPrior("hitAnyOne"),S.baseAttackTime),o&&q.createLinkBot(o,q.getPrior("hitLastTarget"),S.baseAttackTime);let a=!1;for(let e of f.amuletList)if(e&&!e.classList.contains("minor")){q.createLinkBot(e,q.getPrior("useAmulet")),a=!0;break}if(!a){const e=document.querySelectorAll(".body a[href*=itemEffectUse]");let t=null;if(e.forEach(e=>{!/Сфера Дао/i.test(e.textContent)||e.classList.contains("minor")||(t=e)}),t){const e=document.querySelector("#enemyList");if(e){let n=0;e.classList.add("main-enemy-list");const o=document.querySelectorAll("a[href*=damageRandomEnemy]"),r=o.length>0;if(n+=r?o.length:0,r&&1===o.length){const e=document.querySelector(".main-enemy-list>span>span>span");e&&/\d/g.test(e.textContent)&&(n+=parseInt(e.textContent.match(/\d+/)[0],10))}if(n>=25)return q.createLinkBot(t,q.getPrior("usePribor"),s.random(100,200)),q.selectMove()}}}}if(b.default.isLocationHas("https://m.vten.ru/campaign")){let e=b.default.getLinkBySelector("m.vten.ru/tavern");e&&q.createLinkBot(e,20,s.random(100,200))}if(document.querySelector('[href*="/city?"]')){const e=document.querySelector('[href*="/city?"]'),n=document.querySelector("a[src*='img2.vten.ru/images/icons/amulet_freeze_12x12.png']");if(!n&&/город/i.test(e.textContent)?(q.createLinkBot(e,q.getPrior("generalList").exitToCity),/m.vten.ru\/dungeons\?mode=2$/.test(t)&&k.resetCount(S.dungeonRange)):n&&new v.Wait(s.random(2e3,3e3)),/tavern\?mode\=2\&pageIndex/.test(t)&&!document.querySelector(`.body a[href*="mode=2&pageIndex=${parseInt(/\d$/.exec(location.href)[0])+1}"]`)){const e=u.getPersinfo();e[p.cabinetCounter.getCount()]||(e[p.cabinetCounter.getCount()]={}),e[p.cabinetCounter.getCount()][p.accountCounter.getCount()]={day:(new Date).getDay(),complete:!0},u.setPersInfo(e)}}if(/dailygifts/.test(t)){const e=w.getBook(s.random(0,5));if(e&&"Открыть книгу"===e.title)return q.createLinkBot(e,q.getPrior("open_Book")),q.selectMove()}return q.selectMove()}(),this.doAction=e=>{this.clearAllTimeOut(),setTimeout(()=>{location.href=e.url},e.time)},this.clearTimeOut=e=>e.clear()}init(){return this.isNeedChangeCabinet?(P.changeCabinet(),!1):!this.shouldWeChangePers||(P.changeAccount(),!1)}start(){const e=this.getMove();this.init()&&(e?this.doAction(e):this.timeOuts.length<1&&this.timeOuts.push(new v.Wait(s.random(11e3,12100))))}clearAllTimeOut(){this.timeOuts.forEach(this.clearTimeOut)}getBook(e){const t=document.getElementsByClassName("book_link");return t[e]?t[e]:null}};t.bot=w,w.start()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(14),r=n(6),i=n(4),s=n(0),a=new o.default({name:"main_angel",cabinetCount:7,accCount:1,accCountStartFrom:0,cabinetStartsFrom:0,dungeonRange:r.dungeonList.length,shouldChangeCabinet:!0}),u=a;t.current=u;const c=new i.Counter("currentCabinetNumber",1,u.cabinetCountStart);t.cabinetCounter=c;const l=new i.Counter("currentAccNumber",1,u.persCountStart);t.accountCounter=l;const d=s.random(2500,2800);t.ENTER_DELAY=d;if("main_angel"===u.name){const e=c.getCount(),t=l.getCount();/0|4|5/.test(new Number(e).toString())&&r.dungeonList.push(document.querySelector('[href*="/dungeon/description/ShadowGuardCastle"]')),1===e&&(a.dungeonRange=3),3===e&&(u.eachCabPersCount=3,0!==t?a.dungeonRange=3:r.dungeonList.push(document.querySelector('[href*="/dungeon/description/ShadowGuardCastle"]'))),6===e&&(u.eachCabPersCount=4,a.dungeonRange=0!==t?3:4)}t.f={setQuest:!0,setGetRew:!0,setMon_Baron:!0,setGetThingsInDungeon:!0,setTakeAndRepeat:!0,setKaravani:!0,setDozor:!0,setTitans:!0,setAmu0:!0,setAmu2:!0,setAmu1:!0,setAtk:!0,setNakril:!0,setAdskie_Razvalini:!0,setbigLibrary:!0,setRetCity:!0,setDungeon:!0,setBag:!0,autologin:!0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(1);t.Counter=class{constructor(e,t,n=0){this.name=e,this.count=o.default.getOne(this.name)?o.default.getOne(this.name):n>=0?n:0,this.step=t,this.init()}init(){this.name&&void 0!==this.count&&o.default.addOne(this.name,this.count)}increment(){this.count+=this.step,o.default.addOne(this.name,this.count)}getCount(){return o.default.getOne(this.name)?o.default.getOne(this.name):this.count}resetCount(e=0){this.count=e>=0?e:0,o.default.addOne(this.name,this.count)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(2);t.Wait=class{constructor(e=5e3,t){this.time=Math.abs(e),this.action=t,this.start()}start(){this.timeOutBody=setTimeout(()=>{o.bot.timeOuts=o.bot.timeOuts.filter(e=>e!==this.timeOutBody),"function"==typeof this.action?this.action():location.reload()},this.time),o.bot.timeOuts.push(this.timeOutBody)}clear(){clearTimeout(this.timeOutBody)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=[document.querySelector('[href*="/dungeon/description/dHellRuins"]'),document.querySelector('[href*="/dungeon/description/dSanctuary"]'),document.querySelector('[href*="/dungeon/description/way2Baron"]'),document.querySelector('[href*="/dungeon/description/TitansGates3"]'),document.querySelector('[href*="/dungeon/description/FateTemple"]'),document.querySelector('[href*="/dungeon/description/CrystalTomb"]'),document.querySelector('[href*="/dungeon/description/Residentrenounced"]'),document.querySelector('[href*="/dungeon/description/AncCathedral"]'),document.querySelector('[href*="/dungeon/description/AncLibrary"]'),document.querySelector('[href*="/dungeon/description/DemonicPortal"]')];t.dungeonList=o;t.brutalList=["dHellRuins","TitansGates3","HighDungeon","CitadelHolding","ShadowGuard","ShadowGuardCastle","FateTemple","CrystalTomb","AncLibrary"];t.heroicList=["DemonicPortal"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o={shadowOfDeath:r(10),invis:r(14),kefir:r(6),talik:r(9),pritok:r(2),yarost:r(5),grom:r(4),rivok:r(11),kaktus:r(8),demonForm:r(7),arcaneSphere:r(13),godDefence:r(3),listokLotosa:r(1)};function r(e){return document.querySelector(`.body [href*="amuletType=${e}&ppAction=useAmulet"], .body [href$="amuletType=${e}"]`)}t.amulets=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(12),r=n(0);t.default=class{constructor(e){this.links=[],this.flags=e}getPrior(e){return o.p[e]}createLinkBot(e,t,n=r.random(200,250)){const o={name:e.textContent.trim(),prior:t,url:e.href,time:n};return this.addInList(o),o}addInList(e){this.links.push(e)}selectMove(){return this.links.length>0?(this.links.sort((e,t)=>t.prior-e.prior),this.links[0]):null}};const i=new Date;t.d=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o={main_angel:{0:{name:"Qwertykomarqwer",pass:"andrey1502"},1:{name:"Мирах",pass:"adad2323"},2:{name:"Floxy",pass:"22021983"},3:{name:"Бодрый эру",pass:"Nemezida988"},4:{name:"fischermen",pass:"fischer345"},5:{name:"Вовка Путин",pass:"qwerty12345"},6:{name:"Дулярашка",pass:"qwerty12345"}}};t.accData=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(3),r=n(1),i=n(3);function s(){return null===r.default.getOne("isquestcompletetoday")&&r.default.addOne("isquestcompletetoday",{}),r.default.getOne("isquestcompletetoday")}t.getPersinfo=s,t.setPersInfo=function(e){r.default.addOne("isquestcompletetoday",e)},t.isQuestComplete=function(){const e=(new Date).getDay();var t=s()[i.cabinetCounter.getCount()];return!(!t||!t[o.accountCounter.getCount()])&&t[o.accountCounter.getCount()].day===e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=class{static isLocationHas(e){return new RegExp(""+e,"i").test(location.href)}static getLinkBySelector(e){return document.querySelector(`a[href*="${e}"]`)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.p={tavernaList:{allTasks:10,periodic:10,anotherTasks:8,karavani:15,payRenta:15,attack_titans:15,titan_green:15,titan_blue:15,titan_purple:15,dozor:15},dungeonList:{need:15,noNeed:14,takeReward:30,go:10,lowThen30Lvl:10,setHeroic:20,setBruralDiff:20,enter:12,startBattle:15,enterDungeon:20},generalList:{submit:10,exitToCity:1,drinkBottle:25,continue:15,getReward:30},dungeon:33,library:40,taverna:35,bag:7,open_Book:40,next_page:12,rackAction:20,useAmulet:25,usePribor:26,hitLastTarget:20,hitAnyOne:19,exit:100,customPrior:{porogiShadowGuard:{grom:35,invisibl:36},wait:100}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(2),r=n(1),i=n(3),s=n(10),a=n(0),u=n(5),c=n(4);t.default=class{constructor(){this.leavecabinet=document.querySelector('a[href*="/user/cabinet?ppAction=leaveCabinet"]'),this.exitInCabinet=document.querySelector('a[href*="/user/instantlogout"]'),this.entergame=document.querySelector('a.go-btn[href*="logIn"]'),this.logIn=()=>{if(/cabinet/.test(location.href)){let e=document.querySelectorAll(".btn");if(e.length<1)return console.log("logIn(): links < 1");e[i.accountCounter.getCount()]&&!o.currentPers.passedPers.every(t=>!1===new RegExp(""+t,"i").test(e[i.accountCounter.getCount()].textContent))?(i.accountCounter.increment(),this.logIn()):this.checkExitConditions()||(location.href=e[i.accountCounter.getCount()].href,this.clearAccsData())}}}clearAccsData(...e){r.default.remove.apply(r.default,["bagThingsComplete",...e]),o.dungeonPassed.resetCount()}clearCabinetData(){this.clearAccsData("needChangeCabinet")}leave(){this.leavecabinet&&new u.Wait(a.random(100,200),()=>{location.href=this.leavecabinet.href})}enter(){if(this.entergame){const e=new c.Counter("hourNow",1,(new Date).getHours()),t=(new Date).getHours();Math.abs(t-e.getCount())>=o.currentPers.maxDelayBeforeLogin?(e.resetCount(t),location.href=this.entergame.href):new u.Wait(a.random(6e4,12e4))}}logOut(){"http://m.vten.ru/user/cabinet"!==location.href&&this.exitInCabinet&&(location.href=this.exitInCabinet.href,i.accountCounter.increment(),this.checkExitConditions())}checkExitConditions(){return i.accountCounter.getCount()>=o.currentPers.eachCabPersCount&&(i.accountCounter.resetCount(o.currentPers.persCountStart),o.currentPers.shouldChangeCabinet&&r.default.addOne("needChangeCabinet",!0),!0)}changeAccount(){this.logOut(),setTimeout(this.logIn,a.random(500,600))}changeCabinet(){this.exitInCabinet?this.logOut():this.entergame?this.enter():this.leavecabinet?this.leave():(i.cabinetCounter.increment(),i.cabinetCounter.getCount()>=o.currentPers.cabinetCount&&i.cabinetCounter.resetCount(o.currentPers.cabinetCountStart),this.autoLogin(i.cabinetCounter.getCount()))}autoLogin(e){const t=document.querySelector("input[type=submit]"),n=document.querySelector("input#login"),r=document.querySelector("input[type=password]");if(r&&n&&t&&"Войти"===t.getAttribute("value")){const s=o.currentPers.getAuthData(e);if(!s)throw new Error("Wrong authData number");n.value=s.name,r.value=s.pass,setTimeout(()=>{this.clearCabinetData(),t.click()},i.ENTER_DELAY)}}};t.ExitManager=class{constructor(){this.isRackComplete=null!==r.default.getOne("bagThingsComplete"),this.dungeonsComplete={isDungeons:()=>o.dungeonPassed.getCount()===o.currentPers.dungeonRange}}isThisPersFullPassed(){const e=[];return i.f.setQuest&&e.push(s.isQuestComplete()),i.f.setDungeon&&e.push(this.dungeonsComplete.isDungeons()),i.f.setBag&&e.push(this.isRackComplete),o.currentPers.shouldChangeCabinet&&e.push(!o.bot.isNeedChangeCabinet),e.every(e=>!0===e)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(0),r=n(9),i=n(6);t.default=class{constructor({name:e,cabinetCount:t=1,accCount:n=1,accCountStartFrom:r=0,cabinetStartsFrom:s=0,dungeonRange:a=i.dungeonList.length-0,passedPers:u=[],maxDelayBeforeLogin:c=0,shouldChangeCabinet:l=!1}){this.baseAttackTime=o.random(680,750),this.cabinetCount=t,this.eachCabPersCount=n,this.cabinetCountStart=s,this.persCountStart=r,this.dungeonRange=a,this.passedPers=u,this.maxDelayBeforeLogin=c,this.name=e,this.shouldChangeCabinet=l}getAuthData(e){const t=r.accData[this.name][e];return t||{}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(1),r=n(0),i=n(5),s=n(2),a=n(4),u=n(7),c=n(16);t.RestMonastyr=class{constructor(){this.isInside=/RestMonastery/.test(location.href),this.isAtBreak=/standby/.test(location.href)}restoreHelth(){if(!this.isInside||!this.isAtBreak)return!1;const e=document.querySelector("div.info");if(e&&/Восстановить здоровье/i.test(e.textContent))try{e.nextSibling.nextSibling.id="restoreHealth";const t=document.querySelector("#restoreHealth a");return!(!t||!/Купить/.test(t.textContent))&&(s.bot.doAction({time:r.random(500,1e3),url:t.href,name:"Восстановить здоровье"}),!0)}catch(e){return console.log(e),!1}}};t.ShadowGuard=class{constructor(){this.wavesComplete=!!o.default.getOne("shadowGuardWavesComplete")}onWavesComplete(){new i.Wait(r.random(2e3,3e3),(function(){o.default.remove("shadowGuardWavesComplete"),location.href="http://m.vten.ru/?ppAction=LPL_leaveParty"}))}getActionListForMassTarget(){return[c.potions.top.inferium,u.amulets.yarost||u.amulets.pritok||u.amulets.demonForm,"wait",u.amulets.grom]}getAttackingAm(){return u.amulets.grom||u.amulets.kaktus||u.amulets.kefir||u.amulets.talik}killBoss(){const e=this.getActionListForMassTarget(),t=new a.Counter("Kill-counter",1,0),n=e[t.getCount()];if(n){if("wait"===n)return t.increment(),void new i.Wait(r.random(2e3,3e3));if(n.classList.contains("minor")){const e=c.potions.elik.oboroni||c.potions.elik.usileniya||c.potions.elik.yarosti;if(e&&!e.classList.contains("minor"))return s.newMove.createLinkBot(n,s.newMove.getPrior("customPrior").porogiShadowGuard),s.newMove.selectMove();const t=this.getAttackingAm();return t&&!t.classList.contains("minor")?(s.newMove.createLinkBot(t,s.newMove.getPrior("customPrior").porogiShadowGuard),s.newMove.selectMove()):void new i.Wait(r.random(2e3,3e3))}return t.increment(),s.newMove.createLinkBot(n,s.newMove.getPrior("customPrior").porogiShadowGuard),s.newMove.selectMove()}if(t.getCount()>=e.length)return t.resetCount(0),this.killBoss()}},t.setDifficalt=function(e,t){return!!(e&&void 0!==e.href&&t.filter(e=>new RegExp(""+e,"i").test(location.href)).length>0)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o={elik:{yarosti:r(106)||r(116),oboroni:r(104)||r(114),usileniya:r(102)||r(112)},top:{titanium:r(108)||r(118),torium:r(117)||r(117),inferium:r(109)||r(119)},other:{holod:r(348)}};function r(e){return document.querySelector(`.body [href*="potion=${e}&ppAction=drinkPotion"], .body [href$="potion=${e}"]`)}t.potions=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=[document.querySelector('[href*="/quest/qKaravanDayli20prequest"]'),document.querySelector('[href*="/quest/qKaravanDayli30prequest"]'),document.querySelector('[href*="/quest/qKaravanEliteDayli30pre"]'),document.querySelector('[href*="/quest/qKaravanDayli20"]'),document.querySelector('[href*="/quest/qKaravanDayli30"]'),document.querySelector('[href*="/quest/qKaravanEliteDayli30"]'),document.querySelector('[href*="/quest/GreenTitanDayly"]'),document.querySelector('[href*="/quest/qDozorDailyLightFirst30"]'),document.querySelector('[href*="qKaravanReward30"]'),document.querySelector('[href*="qKaravanEliteReward30"]'),document.querySelector('[href*="/quest/qDozorDailyDarkFirst30"]'),document.querySelector('[href*="quest/qDefenderHospital"]'),document.querySelector('[href*="quest/qDefenderShield"]')];t.questList=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(19);t.default=function(e,t){if(t)for(let e of t){const t=e.parentElement.parentElement.textContent.trim();for(let n of o.items.open)if(new RegExp(""+n,"i").test(t))return e}for(let t of e){const e=t.parentElement.parentElement.textContent;for(let n of o.items.crack)if(new RegExp(""+n,"i").test(e))return t;for(let n of o.items.drop)if(new RegExp(""+n,"i").test(e))return t}return null}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.items={crack:["Пояс Упорства","Рунический Шлем","Рунический Доспех","Руническая Накидка","Кулон Сумрака","Сумеречный Колпак","Сумеречный Кинжал","Зачарованный Капюшон","Зачарованная Накидка","Зачарованные Одеяния","Шляпа Покоя","Туника Покоя","Жезл Покоя","Обруч Покаяния","Ряса Покаяния","Посох Покаяния","Шлем Покорного","Форма Покорного","Лезвия Покорного","Кираса Покорителя","Наплечники Покорителя","Шлем Покорителя","Щит Покорителя","Каратель","Халат Магистра","Мантия Магистра","Маска Магистра","Кулон Магистра","Посох Нетопыря","Ряса Фанатика","Мантия Фанатика","Берет Фанатика","Скрижали Духа","Светоч","Жезл Вампиризма","Вскрыватель Вен","Кристалл Крови Нетопырей","Адский Пламень","Шляпа Полковника","Скипетр Полковника","Погоны Полковника","Одеяние Лекаря","Защита Лекаря","Артефакт Лекаря","Посох Лекаря","Латы Пехотинца","Броня Пехотинца","Щит Пехотинца","Алебарда Пехотинца","Прикрытие Боевого Мага","Туника Боевого Мага","Инструкции Боевого Мага","Скипетр Боевого Мага","Шлем Пехотинца","Обруч Лекаря","Шляпа Боевого Мага","Копия Адского Пламени","Диадема Стража","Накидка Стража","Халат Стража","Четки Стража","Скипетр Стража","Венец Стража","Оковы Стража","Одеяние Стража","Кистень Стража","Молот Стража","Шлем Стража","Латные Наплечники Стража","Латный Доспех Стража","Тяжелый Щит Стража","Секира Стража","Наплечи Рассвета","Защита Рассвета","Наплечи Заката","Покров Ночи","Одеяние Заката","Туника Ночного Неба","Шлем Рассвета","Луч Заката","Наплечи Ночного Неба","Череп раба","Луч Рассвета","Жезл Дня и Ночи","Тайна Заката","Отражение","Осколок Заката","Ночные Откровения","Перстень Барона","Череп раба","Тотем Болот","Талисман Болотоходца","Ремень Егеря","Зерцальный Доспех Варлорда","Наплечи Варлорда","Шлем Варлорда","Щит Варлорда","Лезвия Варлорда","Роба Теней","Шаль из Тени","Сумеречная Маска","Сумеречный Щит","Кровь Теней","Броня Экзекутора","Наплечи Экзекутора","Капюшон Экзекутора","Руны Экзекутора","Экзекутор","Колпак Титана","Узор Титана","Сигнал Титана","Секира Титанов","Титанический Посох","Жезл Титанов","Боевые Наплечи Титанов","Наплечи Опеки Титанов","Наплечи Магии Титанов","Маяк Создателя","Маска Механика","Голова Титана","Шестерня Титана","Титановая Подвеска Злобы","Накидка Рока","Наплечники Рока","Мантия Рока","Предвестник Смерти","Жнец","Венец Предсказателя","Наплечники Предсказателя","Броня Предсказателя","Кинжал Прозрения","Посох Судьбы","Шлем Бессмертного","Наплечники Бессмертного","Латы Бессмертного","Стена Страха","Палач","Кольцо Обретенной Надежды","Кольцо Раскаяния","Печать Бессмертия","Кольцо Злого Рока","Колье-оберег Судьбы","Пламенная Крона","Наплечи Непрощенного","Мантия Непрощенного","Свиток Прощения","Посох Непрощенного","Покров Бессонницы","Наплечи Бессонного","Платье Бессонницы","Книга Тайного Знания","Покоритель Духов","Шлем Непокорного","Наплечи Непокорного","Лазуритовая Кираса","Щит Искусителя","Лазуритовый Клинок","Кольцо Бессонного","Кольцо Непокорного","Кольцо Непрощенного","Кольцо Искусителя","Наплечи Искупления","Щит Искупления","Шлем Искупления","Укус Горгульи","Изменчивая Мантия Тени","Изменчивый Глаз Ясновидца","Кожаный Шлем Изменника","Боевой Изменчивый Посох","Капюшон Искателя Теней","Посох Неумолимого Искателя","Плеть Искателя Теней","Мантия Искателя Теней","Кольцо Искателя Теней","Медальон Искателя Теней","Кольцо Изменчивой Природы","Глаз Изменника","Кольцо Искупления","Медальон Искупления ","Клюв Ястреба","Опора Беззащитных","Одеяние Чистых Помыслов","Каратель Неверных","Неприступность Поклявшихся ","Шлем Небесного Воина","Наплечники Небесного Воина","Броня Небесного Воина","Сабля Небесного Воина","Мачете Небесного Воина","Диадема Небесного Мага","Наплечники Небесного Мага","Одеяние Небесного Мага","Стилет Небесного Мага","Посох Небесного Мага ","Маска Пожинателя","Объятия Мора","Безмятежность Смерти","Скипетр Неизбежности","Кадило Черного Света","Адамантитовое Забрало","Адамантитовый Наплечник","Адамантитовый Панцирь","Дух Адамантитовой Горы","Адамантитовый Клинок","Маска Великих","Наплечи Великих","Мантия Великих","Дух Шамбалы","Молот Семипалого","Этерниевый Убор","Этерниевая Подвеска","Балахон Этерниевых Нитей","Дух Этерниевой Скалы","Этерниевое Копье","Шлем Виверны","Наплечники Виверны","Броня Виверны","Кадило Виверны","Копье Виверны","Шлем Грозового Дракона","Наплечники Грозового Дракона","Доспех Грозового Дракона","Повелитель Ветров","Драконий Посох","Шлем Небесного Тигра","Наплечники Небесного Тигра","Броня Небесного Тигра","Когти Небесного Тигра","Алебарда Небесного Тигра ","Армет Темной Плазмы","Наплечники Плазмы","Плазменная Броня","Солнечный Щит","Дробитель","Покров Чернокнижника","Наплечи Чернокнижника","Мантия Тьмы","Ритуальный Череп","Собиратель Душ","Душа Феникса","Огненные Наплечи","Одеяние Дель Солис","Перья Феникса","Скелет Феникса","Капюшон Рассветной Магии","Наплечники Рассветной Магии","Роба Рассветной Магии","Клинок Рассветной Магии","Посох Рассветной Магии","Шлем Небесного Стража","Наплечники Небесного Стража","Броня Небесного Стража","Серп Небесного Стража","Алебарда Небесного Стража","Шлем Полуночной Молитвы","Наплечники Полуночной Молитвы","Броня Полуночной Молитвы","Кастет Полуночной Молитвы","Посох Полуночной Молитвы ","Корона Подземелий","Наплечи Северной Шахты","Броня Южных Лабиринтов","Клинок Западных Катакомб","Щит Восточных Расселин ","Шлем Неутомимости","Наплечи Неутомимости","Броня Неутомимости","Скипетр Запаса Сил","Сокрушитель","Тяжелый Огнестрел","Маска Пироманта","Плечи Пироманта","Броня Пироманта","Огненный Дух","Посох Преисподней ","Одежды Проповедника","Шлем Странствующего Инквизитора","Наплечники Странствующего Инквизитора","Броня Странствующего Инквизитора","Символ Власти","Посох Странствующего Инквизитора ","Плащ безумца","Капюшон Тайного Стража","Посох Тайной Магии","Тайный Манускрипт","Одеяние Тайного Стража","Мантия Тайной Магии ","Мистическая Корона","Наплечи Мистика","Роба Мистика","Мистический Артефакт","Посох Мистицизма ","Анонимность Хранителя","Полюса Серого Отречения","Непоколебимость Хранителя","Молот Непричастности","Неподкупность Хранителя","Капюшон Небесного Монаха","Наплечники Небесного Монаха","Роба Небесного Монаха","Небесное Сияние","Скипетр Небесного Монаха","Шлем Небесного Целителя","Наплечники Небесного Целителя","Роба Небесного Целителя","Сияние Звезд","Скипетр Небес","Шлем Стражника","Наплечники Стражника","Броня Стражника","Щит Стражника","Копье Стражника","Шлем Защитника","Наплечники Защитника","Броня Защитника","Щит Защитника","Копье Защитника","Шлем Отрекшихся","Плащ Отрекшихся","Наплечи Лорда Рагнар","Разделитель","Рогатый Щит","Кольцо Мертвого Лорда","Кулон Мертвеца "],drop:["Странника","Авантюриста","мутный","Треснувший","Надколотый","Руна Терпения I","Руна Коварства I","Руна Живучести I","Руна Перемен I","Руна Гнева I","Свиток Качества","Свиток Улучшения","Зачарованный свиток","Бронза","Кристалл Создателя"],open:["Сокровища Бездны","Драгоценности Культа","Драгоценности Смотрителей","Сундук Древних","Сундук Барона","Узорный Ящик","Дар Чародея","Загадка Азалотха","Сундук Глазоидов","Шкатулка Магических Шаров","Шкатулка Весны"]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(7),r=[o.amulets.pritok,o.amulets.demonForm,o.amulets.godDefence,o.amulets.yarost,o.amulets.grom,o.amulets.rivok,o.amulets.kefir,o.amulets.kaktus,o.amulets.talik];t.amuletList=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){const e=location.href,t=document.body.innerText;return![/Во время выполнения запроса произошла ошибка. Вернись в игру/i.test(t),/Запрашиваемый объект не существует/i.test(t),/вернутся в игру|попробовать снова|Эту страницу съел дракон/i.test(t),/\?fail/i.test(e),"vmmo.ru"===e,!/m.vten.ru/i.test(e),/\(undefined\)$/i.test(e)].every(e=>!1===e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(5),r=n(0),i=n(11);t.default=class{constructor(e){this.isRewardPassed="Награда сегодня получена.",this.pageOfStartFightText="Бой вот-вот начнётся",this.dunName=e}isTodayPassed(){return new RegExp(""+this.isRewardPassed,"i").test(document.body.innerText)}shouldWait(){return i.default.isLocationHas("dungeon")&&(location.href.match("wait")||this.isPreFigth()||document.querySelector("[href*='ppAction=page_refresh']")&&document.querySelector("[href*='ppAction=autosearch_cancel']"))}shouldExit(){if(this.isPreFigth())return!new RegExp(""+this.dunName).test(location.href)}isPartyReady(){return document.querySelector("[href$='m.vten.ru/party']")}isPreFigth(){return new RegExp(""+this.pageOfStartFightText).test(document.body.innerText)}waitTillFigth(){new o.Wait(r.random(1e3,1200))}startSearch(){const e=document.querySelector("[href*='ppAction=enlist_random']");return e&&!1===this.isTodayPassed()?e:null}}}]);